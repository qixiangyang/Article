主要参考这个帖子来学习
https://www.cnblogs.com/savorboard/p/bash-guide.html
作者：Savorboard

### 2019.12.19

#### awk

awk 可用来格式化输出文本中的内容并进一步进行统计/分析等操作。

它一个比较复杂的命令，它有自己的一套语法体系，需要不断的实践了练习才能掌握。

他的原理是将文件逐行读取，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。

```
Usage: awk '{pattern + action}' [filenames]
awk 的命令比较复杂，更多关于它的信息，可以参考下面链接：
https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2858470.html
https://juejin.im/post/5c734801f265da2d8532e418
http://www.zsythink.net/archives/1336
```

一个例子：
```
# 假设last -n 5的输出如下
[root@www ~]# last -n 5 <==仅取出前五行
root     pts/1   192.168.1.100  Tue Feb 10 11:21   still logged in
root     pts/1   192.168.1.100  Tue Feb 10 00:46 - 02:28  (01:41)
root     pts/1   192.168.1.100  Mon Feb  9 11:41 - 18:30  (06:48)
dmtsai   pts/1   192.168.1.100  Mon Feb  9 11:41 - 11:41  (00:00)
root     tty1    
```

```
# 如果只是显示最近登录的5个帐号
last -n 5 | awk '{print $1}'
root
root
root
dmtsai
root
```

通俗理解一下：$1 相当于被空格切分后的第一个值，用表格的概念来理解就是第1列. 同理 $2 就是第二列。
参考：
https://www.cnblogs.com/ggjucheng/archive/2013/01/13/2858470.html
