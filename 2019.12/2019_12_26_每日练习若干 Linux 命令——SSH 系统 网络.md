主要参考这个帖子来学习
https://www.cnblogs.com/savorboard/p/bash-guide.html
作者：Savorboard

###  基础命令

### 2019.12.26

#### SSH
ssh 命令 是openssh套件中的客户端连接工具，可以给予ssh加密协议实现安全的远程登录服务器。

SSH (远程连接工具)连接原理：ssh服务是一个守护进程(demon)，系统后台监听客户端的连接，ssh服务端的进程名为sshd,负责实时监听客户端的请求(IP 22端口)，包括公共秘钥等交换等信息。
SSH 服务端由2部分组成： openssh(提供ssh服务)  openssl(提供加密的程序)

```
Usage: ssh [选项] [参数]

选项：
-1：强制使用ssh协议版本1；
-2：强制使用ssh协议版本2；
-4：强制使用IPv4地址；
-6：强制使用IPv6地址；
-A：开启认证代理连接转发功能；
-a：关闭认证代理连接转发功能；
-b：使用本机指定地址作为对应连接的源ip地址；
-C：请求压缩所有数据；
-F：指定ssh指令的配置文件；
-f：后台执行ssh指令；
-g：允许远程主机连接主机的转发端口；
-i：指定身份文件；
-l：指定连接远程服务器登录用户名；
-N：不执行远程指令；
-o：指定配置选项；
-p：指定远程服务器上的端口；
-q：静默模式；
-X：开启X11转发功能；
-x：关闭X11转发功能；
-y：开启信任X11转发功能。

例子：
# 登录                   
ssh -p22 omd@192.168.25.137

# 直接执行命令  -->最好全路径                   
ssh root@192.168.25.137 ls -ltr /backup/data                       
ssh root@192.168.25.137 /bin/ls -ltr /backup/data  
            
# 查看已知主机                    
cat /root/.ssh/known_hosts

# ssh远程执行sudo命令
ssh -t omd@192.168.25.137 sudo rsync hosts /etc/
 
# 远程文件的安全(加密)拷贝                   
scp -P22 -r -p /home/omd/h.txt omd@192.168.25.137:/home/omd/

# scp知识小结                   
scp是加密远程拷贝，cp为本地拷贝                   
可以推送过去，也可以拉过来                   
每次都是全量拷贝(效率不高，适合第一次)，增量拷贝用rsync

参考：
https://wangchujiang.com/linux-command/c/ssh.html
https://www.cnblogs.com/ftl1012/p/ssh.html
```

2019.12.29
#### whoami
返回当前登录用户名。

#### passwd
用于让用户可以更改自己的密码。

passwd命令 用于设置用户的认证信息，包括用户密码、密码过期时间等。系统管理者则能用它管理系统用户的密码。只有管理者可以指定用户名称，一般用户只能变更自己的密码。

```
Usage: passwd [选项] [参数]

选项：
-d：删除密码，仅有系统管理者才能使用；
-f：强制执行；
-k：设置只有在密码过期失效后，方能更新；
-l：锁住密码；
-s：列出密码的相关信息，仅有系统管理者才能使用；
-u：解开已上锁的帐号。

例子：

# 如果是普通用户执行 passwd 只能修改自己的密码。如果新建用户后，要为新用户创建密码，则用 passwd 用户名，注意要以 root 用户的权限来创建。
passwd linuxde

# 普通用户如果想更改自己的密码，直接运行 passwd 即可，比如当前操作的用户是 linuxde 。
passwd

# 比如我们让某个用户不能修改密码，可以用-l选项来锁定：
passwd -l linuxde

参考：
https://wangchujiang.com/linux-command/c/passwd.html
```

#### quta
用于显示用户或者工作组的磁盘配额信息。输出信息包括磁盘使用和配额限制。

```
Usage: quta [选项] [参数]

选项：
-g：列出群组的磁盘空间限制；
-q：简明列表，只列出超过限制的部分；
-u：列出用户的磁盘空间限制；
-v：显示该用户或群组，在所有挂入系统的存储设备的空间限制；
-V：显示版本信息。

参考：
https://wangchujiang.com/linux-command/c/quota.html
```


#### date
显示或设置系统时间与日期

```
Usage: date [选项]... [+格式]

选项：
长选项与短选项等价

-d, --date=STRING          解析字符串并按照指定格式输出，字符串不能是'now'。
--debug                    注释已解析的日期，并将有疑问的用法发送到标准错误。
-f, --file=DATEFILE        类似于--date; 一次从DATEFILE处理一行。
-I[FMT], --iso-8601[=FMT]  按照ISO 8601格式输出，FMT可以为'date'(默认)，'hours'，'minutes'，'seconds'，'ns'。
                           例如：2006-08-14T02:34:56-06:00
-R, --rfc-email            按照RFC 5322格式输出，例如: Mon, 14 Aug 2006 02:34:56 -0600
--rfc-3339=FMT             按照RFC 3339格式输出，FMT可以为'date', 'seconds','ns'中的一个，
                           例如：2006-08-14 02:34:56-06:00
-r, --reference=FILE       显示文件的上次修改时间。
-s, --set=STRING           根据字符串设置系统时间。
-u, --utc, --universal     显示或设置世界协调时(UTC)。
--help                     显示帮助信息并退出。
--version                  显示版本信息并退出。

格式：
%%      百分号
%a      当地缩写的工作日名称（例如，Sun）
%A      当地完整的工作日名称（例如，Sunday）
%b      当地缩写的月份名称（例如，Jan）
%B      当地完整的月份名称（例如，January）
%c      当地的日期和时间（例如，Thu Mar  3 23:05:25 2005）
%C      世纪，和%Y类似，但是省略后两位（例如，20）
%d      一月中的一天（例如，01）
%D      日期，等价于%m/%d/%y
%e      一月中的一天，格式使用空格填充，等价于%_d
%F      完整的日期；等价于%+4Y-%m-%d
%g      ISO标准计数周的年份的最后两位数字
%G      ISO标准计数周的年份，通常只对%V有用
%h      等价于%b
%H      小时，范围（00..23）
%I      小时，范围（00..23）
%j      一年中的一天，范围（001..366）
%k      小时，使用空格填充，范围（0..23），等价于%_H
%l      小时，使用空格填充，范围（1..12），等价于%_I
%m      月，范围（01..12）
%M      分钟，范围（00..59）
%n      换行符
%N      纳秒，范围（000000000..000000000）
%p      用于表示当地的AM或PM，如果未知则为空白
%P      类似于%p，但用小写表示
%q      季度，范围（1..4）
%r      当地以12小时表示的时钟时间（例如，11:11:04 PM）
%R      24小时每分钟；等价于%H:%M
%s      自协调世界时1970年01月01日00时00分以来的秒数
%S      秒数，范围（00..60）
%t      水平制表符
%T      时间；等价于%H:%M:%S
%u      一周中的一天（1..7），1代表星期一
%U      一年中的第几周，周日作为一周的起始（00..53）
%V      ISO标准计数周，该方法将周一作为一周的起始（01..53）
%w      一周中的一天（0..6），0代表星期天
%W      一年中的第几周，周一作为一周的起始（00..53）
%x      当地的日期表示（例如，12/31/99）
%X      当地的时间表示（例如，23:13:48）
%y      年份后两位数字，范围（00..99）
%Y      年份
%z      +hhmm格式的数值化时区格式（例如，-0400）
%:z     +hh:mm格式的数值化时区格式（例如，-04:00）
%::z    +hh:mm:ss格式的数值化时区格式（例如，-04:00:00）
%:::z   数值化时区格式，相比上一个格式增加':'以显示必要的精度（例如，-04，+05:30）
%Z      时区缩写（如EDT）

默认情况下，日期用零填充数字字段；以下可选的符号可以跟在'%'后面:

-      (连字符) 不要填充相应的字段。
_      (下划线) 使用空格填充相应的字段。
0      (数字0) 使用数字0填充相应的字段。
+      用数字0填充，未来年份大于4位数字则在前面加上'+'号。
^      允许的情况下使用大写。
#      允许的情况下将默认的大写转换为小写，默认的小写转换为大写。

在任何标志之后都有一个可选的字段宽度，如小数；然后是一个可选的修饰符，在可用的情况下，使用E来使用当地语言环境的替代表示，
使用O来使用当地语言环境的替代数字符号。

参考：
https://wangchujiang.com/linux-command/c/date.html
```

2020.1.2

#### cal
显示月份的日历。

```
Usage: cal [选项] [参数]

-l：显示单月输出；
-3：显示临近三个月的日历；
-s：将星期日作为月的第一天；
-m：将星期一作为月的第一天；
-j：显示“julian”日期；
-y：显示当前年的日历。

```

#### uptime
uptime命令能够打印系统总共运行了多长时间和系统的平均负载。
uptime命令可以显示的信息显示依次为：现在时间、系统已经运行了多长时间、目前有多少登陆用户、系统在过去的1分钟、5分钟和15分钟内的平均负载。


```
Usage: uptime [选项]

-V：显示指令的版本信息。
```


#### w
w命令 用于显示已经登陆系统的用户列表，并显示用户正在执行的指令。
执行这个命令可得知目前登入系统的用户有那些人，以及他们正在执行的程序。
单独执行w命令会显示所有的用户，您也可指定用户名称，仅显示某位用户的相关信息。

```
Usage: w [选项] [参数]

选项：
 -h, --no-header     不打印头信息；
 -u, --no-current    当显示当前进程和cpu时间时忽略用户名；
 -s, --short         使用短输出格式；
 -f, --from          显示用户从哪登录；
 -o, --old-style     老式输出
 -i, --ip-addr       显示IP地址而不是主机名（如果可能）

     --help     显示此帮助并退出
 -V, --version  显示版本信息。

参考：
https://wangchujiang.com/linux-command/c/w.html
```

#### finger
用于查找并显示用户信息。包括本地与远端主机的用户皆可，帐号名称没有大小写的差别。
单独执行finger指令，它会显示本地主机现在所有的用户的登陆信息，包括帐号名称，真实姓名，登入终端机，闲置时间，登入时间以及地址和电话。

```
Usage: finger [选项] [参数]

选项：
-l：列出该用户的帐号名称，真实姓名，用户专属目录，登入所用的Shell，登入时间，转信地址，电子邮件状态，还有计划文件和方案文件内容；
-m：排除查找用户的真实姓名；
-s：列出该用户的帐号名称，真实姓名，登入终端机，闲置时间，登入时间以及地址和电话；
-p：列出该用户的帐号名称，真实姓名，用户专属目录，登入所用的Shell，登入时间，转信地址，电子邮件状态，但不显示该用户的计划文件和方案文件内容。

参考：
https://wangchujiang.com/linux-command/c/finger.html
```