主要参考这个帖子来学习
https://www.cnblogs.com/savorboard/p/bash-guide.html
作者：Savorboard

###  基础命令

### 2019.12.26

#### SSH
ssh 命令 是openssh套件中的客户端连接工具，可以给予ssh加密协议实现安全的远程登录服务器。

SSH (远程连接工具)连接原理：ssh服务是一个守护进程(demon)，系统后台监听客户端的连接，ssh服务端的进程名为sshd,负责实时监听客户端的请求(IP 22端口)，包括公共秘钥等交换等信息。
SSH 服务端由2部分组成： openssh(提供ssh服务)  openssl(提供加密的程序)

```
Usage: ssh [选项] [参数]

选项：
-1：强制使用ssh协议版本1；
-2：强制使用ssh协议版本2；
-4：强制使用IPv4地址；
-6：强制使用IPv6地址；
-A：开启认证代理连接转发功能；
-a：关闭认证代理连接转发功能；
-b：使用本机指定地址作为对应连接的源ip地址；
-C：请求压缩所有数据；
-F：指定ssh指令的配置文件；
-f：后台执行ssh指令；
-g：允许远程主机连接主机的转发端口；
-i：指定身份文件；
-l：指定连接远程服务器登录用户名；
-N：不执行远程指令；
-o：指定配置选项；
-p：指定远程服务器上的端口；
-q：静默模式；
-X：开启X11转发功能；
-x：关闭X11转发功能；
-y：开启信任X11转发功能。

例子：
# 登录                   
ssh -p22 omd@192.168.25.137

# 直接执行命令  -->最好全路径                   
ssh root@192.168.25.137 ls -ltr /backup/data                       
ssh root@192.168.25.137 /bin/ls -ltr /backup/data  
            
# 查看已知主机                    
cat /root/.ssh/known_hosts

# ssh远程执行sudo命令
ssh -t omd@192.168.25.137 sudo rsync hosts /etc/
 
# 远程文件的安全(加密)拷贝                   
scp -P22 -r -p /home/omd/h.txt omd@192.168.25.137:/home/omd/

# scp知识小结                   
scp是加密远程拷贝，cp为本地拷贝                   
可以推送过去，也可以拉过来                   
每次都是全量拷贝(效率不高，适合第一次)，增量拷贝用rsync

参考：
https://www.cnblogs.com/ftl1012/p/ssh.html
```

